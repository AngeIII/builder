/* ===================================
 * Visual composer wp backend layout
 * =================================== */

//== backend view layout styles

.vcv-wpbackend-layout {
  padding: @vcv-wpbackend-layout-padding;

  &-loading {
    display: flex;
    align-items: center;
    justify-content: center;
    min-height: @vcv-wpbackend-layout-loading-height;
  }

  &-content {
    width: 100%;
    flex: 1 1 auto;
    border: 0;
    position: relative;
    z-index: @vcv-wpbackend-content-zindex;
    &-container {
      flex: 1 1 auto;
      display: flex;
      flex-flow: column nowrap;
      position: relative;
    }
    &-overlay {
      pointer-events: none;
      position: absolute;
      top: 0;
      left: 0;
      bottom: 0;
      right: 0;
    }
  }
}

//== backend navbar styles

.vcv-ui-navbar-hidden-controls {
  visibility: hidden;
  position: absolute;
  left: 100%;
}

//== backend view element styles

.vce-wpbackend-element {
  &-container {
    margin-bottom: @vcv-wpbackend-container-margin-bottom;
    border: 1px solid @vce-wpbackend-element-container-border-color;
    position: relative;
  }

  &-header-container,
  &-header {
    display: flex;
    flex-wrap: wrap;
    align-items: center;
    background-color: @vce-wpbackend-element-header-background-color;
    color: @vce-wpbackend-element-header-color;
    font-weight: 500;
    position: relative;
    overflow: hidden;
    height: @vcv-wpbackend-element-header-size;
  }

  &-header {
    position: absolute;
    top: 0;
    width: 100%;
    height: auto;
    border: none;
    padding: @vcv-wpbackend-element-header-padding;

    &-overlay {
      position: absolute;
      bottom: 0;
      left: 0;
      width: 100%;
      height: @vcv-wpbackend-element-header-size;
      cursor: pointer;
    }
  }

  &-name-container {
    flex: @vcv-wpbackend-layout-element-name-flex;
    overflow: hidden;
    white-space: nowrap;
    text-overflow: ellipsis;
    margin: @vcv-wpbackend-element-name-wrapper-margin;
  }

  &-icon {
    width: @vcv-wpbackend-element-header-icon-width;
    &-container{
      flex: 1 0 @vcv-wpbackend-element-header-icon-width;
      display: flex;
      align-items: center;
      justify-content: center;
      height: @vcv-wpbackend-element-header-size;
    }
  }

  &-arrow {
    flex: @vcv-wpbackend-layout-element-arrow-flex;
    display: flex;
    align-items: center;
    justify-content: flex-end;
    height: @vcv-wpbackend-element-header-size;
    margin-right: @vcv-wpbackend-layout-element-arrow-margin-right;

    &::after {
      content: '';
      position: absolute;
    }

    &-closed {
      &::after {
        border-left: 4px solid transparent;
        border-right: 4px solid transparent;
        border-top: 5px solid @vce-wpbackend-element-header-after-color;
      }
    }

    &-opened {
      &::after{
        border-left: 4px solid transparent;
        border-right: 4px solid transparent;
        border-bottom: 5px solid @vce-wpbackend-element-header-after-color;
      }
    }
  }

  &-attributes {
    &-container {
      position: relative;
      z-index: 1;
      background-color: @vce-wpbackend-element-attributes-background-color;
      font-style: italic;
      color: @vce-wpbackend-element-attributes-color;
    }

    &-group {
      padding: @vcv-wpbackend-attributes-group-padding;
      border-top: 1px solid @vce-wpbackend-element-container-border-color;

      .vce-wpbackend-element-attributes-group {
        padding: 0;
        border-top: none;
      }
    }
  }
}

//== states

.vce-wpbackend-hidden {
  display: none;
}

//== element attributes styles

.vcv-wpbackend-attributes-content {
  display: inline-block;
  margin-right: @vcv-wpbackend-attributes-content-margin-right;
  vertical-align: middle;
  line-height: @vcv-wpbackend-attributes-content-line-height;
}

.vcv-layout-dock--unlock {
  .vcv-layout-bar-content {
    position: absolute;
    top: 100%;
    bottom: auto;
    left: 0;
    right: 0;
  }
}